## [链接](http://blog.csdn.net/poem_qianmo/article/details/29356187)

在图像处理和与计算机视觉领域，兴趣点（interest points），或称作关键点（keypoints）、特征点（feature points） 被大量用于解决物体识别，图像识别、图像匹配、视觉跟踪、三维重建等一系列的问题。我们不再观察整幅图，而是选择某些特殊的点，然后对他们进行局部有的放矢的分析。如果能检测到足够多的这种点，同时他们的区分度很高，并且可以精确定位稳定的特征，那么这个方法就有使用价值。

### cornerHarris函数详解

void cornerHarris(InputArray src,OutputArray dst, int blockSize, int ksize, double k, intborderType=BORDER_DEFAULT )

- 第一个参数，InputArray类型的src，输入图像，即源图像，填Mat类的对象即可，且需为单通道8位或者浮点型图像。
- 第二个参数，OutputArray类型的dst，函数调用后的运算结果存在这里，即这个参数用于存放Harris角点检测的输出结果，和源图片有一样的尺寸和类型。
- 第三个参数，int类型的blockSize，表示邻域的大小，更多的详细信息在cornerEigenValsAndVecs（）中有讲到。
- 第四个参数，int类型的ksize，表示Sobel()算子的孔径大小。
- 第五个参数，double类型的k，Harris参数。
- 第六个参数，int类型的borderType，图像像素的边界模式，注意它有默认值BORDER_DEFAULT。更详细的解释，参考borderInterpolate( )函数。

### Threshold函数详解

double threshold(InputArray src,OutputArray dst, double thresh, double maxval, int type)

- 第一个参数，InputArray类型的src，输入数组，填单通道 , 8或32位浮点类型的Mat即可。
- 第二个参数，OutputArray类型的dst，函数调用后的运算结果存在这里，即这个参数用于存放输出结果，且和第一个参数中的Mat变量有一样的尺寸和类型。
- 第三个参数，double类型的thresh，阈值的具体值。
- 第四个参数，double类型的maxval，当第五个参数阈值类型type取 CV_THRESH_BINARY 或CV_THRESH_BINARY_INV 阈值类型时的最大值.
- 第五个参数，int类型的type，阈值类型,。threshold( )函数支持的对图像取阈值的方法由其确定，具体用法如下图：
![参数5使用方法](http://img.blog.csdn.net/20140608112651718?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9lbV9xaWFubW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)


### 代码例程


>//-----------------------------------【头文件包含部分】---------------------------------------    
//      描述：包含程序所依赖的头文件    
//----------------------------------------------------------------------------------------------     
>#include <opencv2/opencv.hpp>    
>#include <opencv2/imgproc/imgproc.hpp>    

>//-----------------------------------【命名空间声明部分】---------------------------------------    
//      描述：包含程序所使用的命名空间    
//-----------------------------------------------------------------------------------------------     
using namespace cv;    

>int main()    
{    
    //以灰度模式载入图像并显示  
    Mat srcImage = imread("1.jpg", 0);    
    imshow("原始图", srcImage);    

>    //进行Harris角点检测找出角点  
    Mat cornerStrength;    
    cornerHarris(srcImage, cornerStrength, 2, 3, 0.01);  

>    //对灰度图进行阈值操作，得到二值图并显示    
    Mat harrisCorner;    
    threshold(cornerStrength, harrisCorner, 0.00001, 255, THRESH_BINARY);    
    imshow("角点检测后的二值效果图", harrisCorner);    

>    waitKey(0);    
    return 0;    
}    
